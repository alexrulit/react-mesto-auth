{"ast":null,"code":"var _jsxFileName = \"/Users/aleksejaleksandrov/react-mesto-auth/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport Header from './Header';\nimport { Link, withRouter } from 'react-router-dom';\nimport * as mestoAuth from './mestoAuth';\n\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!email || !password) {\n      return;\n    }\n\n    mestoAuth.authorize(password, email).then(data => {\n      if (data.token) {\n        setEmail('');\n        setPassword('');\n        props.handleLogin();\n        props.history.push('/');\n      }\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sign-up\",\n    className: \"header__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\")), /*#__PURE__*/React.createElement(\"form\", {\n    name: \"main-form\",\n    action: \"#\",\n    className: \"main-form\",\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"main-form__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    type: \"email\",\n    onChange: handleChangeEmail,\n    className: \"main-form__input\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChangePassword,\n    className: \"main-form__input\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"main-form__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")));\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/aleksejaleksandrov/react-mesto-auth/src/components/Login.js"],"names":["React","useState","Header","Link","withRouter","mestoAuth","Login","props","email","setEmail","password","setPassword","handleChangeEmail","e","target","value","handleChangePassword","handleSubmit","preventDefault","authorize","then","data","token","handleLogin","history","push","catch","err","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;;AAGA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;;AAEA,WAASW,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1BJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH;;AAED,WAASC,oBAAT,CAA8BH,CAA9B,EAAiC;AAC7BF,IAAAA,WAAW,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH;;AAED,WAASE,YAAT,CAAsBJ,CAAtB,EAAyB;AAErBA,IAAAA,CAAC,CAACK,cAAF;;AAEA,QAAI,CAACV,KAAD,IAAU,CAACE,QAAf,EAAwB;AACpB;AACH;;AAEDL,IAAAA,SAAS,CAACc,SAAV,CAAoBT,QAApB,EAA8BF,KAA9B,EACCY,IADD,CACOC,IAAD,IAAU;AACZ,UAAIA,IAAI,CAACC,KAAT,EAAe;AACXb,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAJ,QAAAA,KAAK,CAACgB,WAAN;AACAhB,QAAAA,KAAK,CAACiB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AAEH;AACJ,KATD,EAUCC,KAVD,CAUOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVd;AAYH;;AAED,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,IAAI,EAAC,UAAR;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0EADJ,CADJ,eAII;AAAM,IAAA,IAAI,EAAC,WAAX;AAAuB,IAAA,MAAM,EAAC,GAA9B;AAAkC,IAAA,SAAS,EAAC,WAA5C;AAAwD,IAAA,UAAU,MAAlE;AAAmE,IAAA,QAAQ,EAAEV,YAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAgC,IAAA,IAAI,EAAC,OAArC;AAA6C,IAAA,QAAQ,EAAEL,iBAAvD;AAA0E,IAAA,SAAS,EAAC,kBAApF;AAAuG,IAAA,WAAW,EAAC,OAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,IAAI,EAAC,UAA5C;AAAuD,IAAA,QAAQ,EAAEI,oBAAjE;AAAuF,IAAA,SAAS,EAAC,kBAAjG;AAAoH,IAAA,WAAW,EAAC,sCAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,IAAI,EAAC,QAA3B;AAAoC,IAAA,SAAS,EAAC,mBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJJ,CAJJ,CADJ;AAaH;;AAED,eAAeZ,UAAU,CAACE,KAAD,CAAzB","sourcesContent":["import React, { useState } from 'react';\nimport Header from './Header';\nimport { Link, withRouter } from 'react-router-dom';\nimport * as mestoAuth from './mestoAuth';\n\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n        \n        if (!email || !password){\n            return;\n        }\n\n        mestoAuth.authorize(password, email)\n        .then((data) => {\n            if (data.token){\n                setEmail('');\n                setPassword('');\n                props.handleLogin();\n                props.history.push('/');\n            \n            }  \n        })\n        .catch(err => console.log(err)); \n    \n    }\n\n    return(\n        <div>\n            <Header>\n                <a href=\"/sign-up\" className=\"header__link\">Регистрация</a>\n            </Header>\n            <form name=\"main-form\" action=\"#\" className=\"main-form\" noValidate onSubmit={handleSubmit}>\n                <h2 className=\"main-form__title\">Вход</h2>\n                <input type=\"text\" name=\"email\" type=\"email\" onChange={handleChangeEmail} className=\"main-form__input\" placeholder=\"Email\"/>\n                <input type=\"password\" name=\"password\" type=\"password\" onChange={handleChangePassword} className=\"main-form__input\" placeholder=\"Пароль\"/>\n                <button type=\"submit\" name=\"submit\" className=\"main-form__button\">Войти</button>\n            </form>\n        </div>\n        );\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}