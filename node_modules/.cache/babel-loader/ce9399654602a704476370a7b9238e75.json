{"ast":null,"code":"var _jsxFileName = \"/Users/aleksejaleksandrov/react-mesto-auth/src/components/Register.js\";\nimport React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Header from './Header';\nimport InfoTooltip from './InfoTooltip';\nimport * as mestoAuth from './mestoAuth';\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isRegisterPopupOpen, SetIsRegisterPopupOpen] = useState(false);\n  const [registerPopupStatus, SetRegisterPopupStatus] = useState(true);\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    mestoAuth.register(password, email).then(res => {\n      console.log(res);\n\n      if (res.status === 200) {\n        SetRegisterPopupStatus(false);\n      } else {\n        SetRegisterPopupStatus(true);\n      }\n\n      SetIsRegisterPopupOpen(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function closePopup() {\n    SetIsRegisterPopupOpen(false);\n\n    if (registerPopupStatus) {\n      props.history.push('/sign-in');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sign-in\",\n    className: \"header__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), /*#__PURE__*/React.createElement(\"form\", {\n    name: \"main-form\",\n    action: \"#\",\n    className: \"main-form\",\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"main-form__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    type: \"email\",\n    onChange: handleChangeEmail,\n    className: \"main-form__input\",\n    placeholder: \"Email\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChangePassword,\n    className: \"main-form__input\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"main-form__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sign-in\",\n    className: \"main-form__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\")), /*#__PURE__*/React.createElement(InfoTooltip, {\n    isOpen: isRegisterPopupOpen,\n    onClose: closePopup,\n    status: registerPopupStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default withRouter(Register);","map":{"version":3,"sources":["/Users/aleksejaleksandrov/react-mesto-auth/src/components/Register.js"],"names":["React","useState","Link","withRouter","Header","InfoTooltip","mestoAuth","Register","props","email","setEmail","password","setPassword","isRegisterPopupOpen","SetIsRegisterPopupOpen","registerPopupStatus","SetRegisterPopupStatus","handleChangeEmail","e","target","value","handleChangePassword","handleSubmit","preventDefault","register","then","res","console","log","status","catch","err","closePopup","history","push"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom'; \nimport Header from './Header';\nimport InfoTooltip from './InfoTooltip';\nimport * as mestoAuth from './mestoAuth';\n\nfunction Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [isRegisterPopupOpen, SetIsRegisterPopupOpen] = useState(false);\n    const [registerPopupStatus, SetRegisterPopupStatus] = useState(true);\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n      \n        mestoAuth.register(password, email)\n        .then((res) => {\n            console.log(res);\n            if(res.status === 200) {\n                SetRegisterPopupStatus(false);\n            } else {\n                SetRegisterPopupStatus(true);\n            }\n            SetIsRegisterPopupOpen(true);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n      }\n\n    function closePopup() {\n        SetIsRegisterPopupOpen(false);\n\n        if(registerPopupStatus) {\n            props.history.push('/sign-in');\n        }\n    }\n\n\n    return(\n        <div>\n            <Header>\n                <a href=\"/sign-in\" className=\"header__link\">Войти</a>\n            </Header>\n            <form name=\"main-form\" action=\"#\" className=\"main-form\" noValidate onSubmit={handleSubmit}>\n                <h2 className=\"main-form__title\">Регистрация</h2>\n                <input type=\"text\" name=\"email\" type=\"email\" onChange={handleChangeEmail} className=\"main-form__input\" placeholder=\"Email\" required/>\n                <input type=\"password\" name=\"password\" type=\"password\" onChange={handleChangePassword} className=\"main-form__input\" placeholder=\"Пароль\" required/>\n                <button type=\"submit\" name=\"submit\" className=\"main-form__button\">Зарегистрироваться</button>\n                <a href=\"/sign-in\" className=\"main-form__link\">Уже зарегистрированы? Войти</a>\n            </form>\n            <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closePopup} status={registerPopupStatus} />\n        </div>\n        );\n}\n\nexport default withRouter(Register);"]},"metadata":{},"sourceType":"module"}