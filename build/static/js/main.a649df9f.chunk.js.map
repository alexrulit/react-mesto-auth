{"version":3,"sources":["images/Success.png","images/Failed.png","images/logo.svg","components/ProtectedRoute.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/Mesto.js","components/Login.js","components/InfoTooltip.js","utils/mestoAuth.js","components/Footer.js","components/Header.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","ProtectedRoute","Component","component","props","loggedIn","to","withRouter","useState","email","setEmail","password","setPassword","name","action","className","noValidate","onSubmit","e","preventDefault","handleRegister","type","value","onChange","target","placeholder","required","href","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","onClick","onCardClick","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cardList","map","item","key","ImagePopup","hasOwnProperty","onClose","PopupWithForm","isOpen","title","children","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","id","minLength","maxLength","pattern","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_baseUrl","baseUrl","_token","headers","authorization","_contentType","contentType","endpoint","method","body","_headers","_requestInit","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","_body","JSON","stringify","cardId","state","_cardId","_method","avatarLink","Mesto","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","cards","setCards","closeAllPopups","all","getUserInfo","getInitialCards","result","data","catch","err","console","log","Provider","cardLike","newCard","newCards","c","deleteCard","filter","user","setUserInfo","addNewCard","setAvatar","handleLogin","InfoTooltip","success","failed","BASE_URL","Footer","Header","userData","Logo","exact","path","signOut","setLoggedIn","setUserData","isRegisterPopupOpen","SetIsRegisterPopupOpen","registerPopupStatus","SetRegisterPopupStatus","tokenCheck","token","jwt","localStorage","getItem","history","push","removeItem","mestoAuth","undefined","response","setItem","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.a649df9f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute; ","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom'; \n\n\nfunction Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n      \n        props.handleRegister(password, email);    \n    }\n\n\n    return(\n        <div>\n            <form name=\"main-form\" action=\"#\" className=\"main-form\" noValidate onSubmit={handleSubmit}>\n                <h2 className=\"main-form__title\">Регистрация</h2>\n                <input name=\"email\" type=\"email\" value={email} onChange={handleChangeEmail} className=\"main-form__input\" placeholder=\"Email\" required/>\n                <input name=\"password\" type=\"password\" value={password} onChange={handleChangePassword} className=\"main-form__input\" placeholder=\"Пароль\" required/>\n                <button type=\"submit\" name=\"submit\" className=\"main-form__button\">Зарегистрироваться</button>\n                <a href=\"/sign-in\" className=\"main-form__link\">Уже зарегистрированы? Войти</a>\n            </form>\n        </div>\n        );\n}\n\nexport default withRouter(Register);","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner._id === currentUser._id;\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = `elements__like-button ${isLiked && 'elements__like-button_active'}`;\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    } \n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return(\n        <li className=\"elements__item\">\n          <img className=\"elements__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\n          <div className=\"elements__description\">\n            <p className=\"elements__text\">{props.card.name}</p>\n            <div className=\"elements__like\">\n              <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n              <p className=\"elements__like-count\">{props.card.likes.length}</p>\n            </div>\n          </div>\n          { isOwn &&\n              <button type=\"button\" className=\"elements__delete-button\" onClick={handleDeleteClick} />\n          }\n        </li>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n    return(\n      <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar-link\" onClick={props.onEditAvatar}>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__author\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\n            </div>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile} />\n          </div>\n          <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />\n        </section>\n        <section className=\"elements\">\n          <ul className=\"elements__list\">\n          {props.cardList.map((item) => {\n            return (\n              <Card card={item} key={item._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n            );\n          })}\n          </ul>\n        </section>\n      </main>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction ImagePopup(props) {\n    return(\n    <div className={`popup popup_type_image ${props.card.hasOwnProperty('name') && 'popup_opened'}`}>\n      <figure className=\"popup__figure\">\n        <img src={props.card.link} className=\"popup__img\" alt={props.card.name} />\n        <figcaption className=\"popup__figcaption\">{props.card.name}</figcaption>\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n      </figure>\n    </div>\n    );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return(    \n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <form name={props.name} onSubmit={props.onSubmit} action=\"#\" className=\"popup__container\" noValidate>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit\">Сохранить</button>\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose} />\n      </form>\n    </div>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    React.useEffect(() => {\n        setName(currentUser.name || '');\n        setDescription(currentUser.about || '');\n      }, [currentUser]);\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDesc(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n      \n        props.onUpdateUser({\n          name,\n          about: description,\n        });\n      }\n\n    return(\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"popupAuthor\" name=\"popupAuthor\" type=\"text\" value={name} onChange={handleChangeName} className=\"popup__input\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required pattern=\"[А-Яа-яA-Za-z -]{1,}\" />\n            <span id=\"popupAuthor-error\" className=\"popup__input-error\"></span>\n            <input id=\"popupDesc\" name=\"popupDesc\" type=\"text\" value={description} onChange={handleChangeDesc} className=\"popup__input\" placeholder=\"Занятие\" minLength=\"2\" maxLength=\"200\" required />\n            <span id=\"popupDesc-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\n\n\nfunction EditAvatarPopup(props) {\n\n    const avatarRef = React.useRef();\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n  \n        props.onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n\n    return(\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"popupAvatar\" name=\"avatarLink\" type=\"url\" ref={avatarRef} className=\"popup__input\" placeholder=\"Ссылка на картинку\" required />\n            <span id=\"popupAvatar-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n      \n        props.onAddPlace({\n          name,\n          link,\n        });\n      }\n\n    return(\n        <PopupWithForm name=\"addcard\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"popupName\" name=\"name\" type=\"text\" value={name} onChange={handleChangeName} className=\"popup__input\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required />\n            <span id=\"popupName-error\" className=\"popup__input-error\"></span>\n            <input id=\"popupLink\" name=\"link\" type=\"url\" value={link} onChange={handleChangeLink} className=\"popup__input\" placeholder=\"Ссылка на картинку\" required />\n            <span id=\"popupLink-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","class Api {\n    constructor(options){\n      this._baseUrl = options.baseUrl;\n      this._token = options.headers.authorization;\n      this._contentType = options.headers.contentType;\n    }\n  \n    _sendRequest(endpoint, method, body){\n      this._headers = {\n          authorization: this._token,\n          'Content-type': this._contentType\n      };\n      this._requestInit = {\n        method: method,\n        headers: this._headers\n      };\n      if(method === 'POST' || method === 'PATCH'){\n        this._requestInit.body = body;\n      }\n      return fetch(`${this._baseUrl}${endpoint}`, this._requestInit)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n    }\n  \n    getUserInfo() {\n      return this._sendRequest('/users/me', 'GET', {});\n    }\n  \n    getInitialCards() {\n      return this._sendRequest('/cards', 'GET', {});\n    }\n  \n    setUserInfo(name, about) {\n      this._body = JSON.stringify({\n          name: name,\n          about: about\n      });\n      return this._sendRequest('/users/me', 'PATCH', this._body);\n    }\n  \n    addNewCard(name, link) {\n      this._body = JSON.stringify({\n          name: name,\n          link: link\n      });\n      return this._sendRequest('/cards', 'POST', this._body);\n    }\n  \n    cardLike(cardId, state) {\n      this._cardId = cardId;\n      this._method =  state ? 'DELETE' : 'PUT';\n      return this._sendRequest('/cards/likes/' + this._cardId, this._method, {});\n    }\n  \n    deleteCard(cardId) {\n      this._cardId = cardId;\n      return this._sendRequest('/cards/' + this._cardId, 'DELETE', {});\n    }\n  \n    setAvatar(avatarLink) {\n      this._body = JSON.stringify({\n          avatar: avatarLink\n      });\n      return this._sendRequest('/users/me/avatar', 'PATCH', this._body);\n    }\n  }\n  \n  const api = new Api({\n    baseUrl: 'http://localhost:3001',\n    headers: {\n      authorization: '67d49140-f28d-4665-8757-80e700844f4c',\n      contentType: 'application/json'\n    }\n  });\n\n  export default api;","import React, { useState } from 'react';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Mesto() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cards, setCards] = useState([]);\n\n  React.useEffect(() => {\n   Promise.all([api.getUserInfo(), api.getInitialCards()]) \n    .then(([result, data]) => {\n      setCurrentUser(result);\n      setCards(data);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.cardLike(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  \n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(user) {\n    api.setUserInfo(user.name, user.about)\n    .then(result => {\n      setCurrentUser(result);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.setAvatar(avatar.avatar)\n    .then(result => {\n      setCurrentUser(result);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlace(card) {\n    api.addNewCard(card.name, card.link)\n    .then(result => {\n      setCards([result, ...cards]);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  return (\n        <CurrentUserContext.Provider value={currentUser}>\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleCardDelete} cardList={cards} />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </CurrentUserContext.Provider>\n  );\n}\n\nexport default Mesto;\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n        \n        if (!email || !password){\n            return;\n        }\n        \n        props.handleLogin(password, email);\n    \n    }\n\n    return(\n        <div>\n            <form name=\"main-form\" action=\"#\" className=\"main-form\" noValidate onSubmit={handleSubmit}>\n                <h2 className=\"main-form__title\">Вход</h2>\n                <input name=\"email\" type=\"email\" value={email} onChange={handleChangeEmail} className=\"main-form__input\" placeholder=\"Email\"/>\n                <input name=\"password\" type=\"password\" value={password} onChange={handleChangePassword} className=\"main-form__input\" placeholder=\"Пароль\"/>\n                <button type=\"submit\" name=\"submit\" className=\"main-form__button\">Войти</button>\n            </form>\n        </div>\n        );\n}\n\nexport default withRouter(Login);","import React from 'react';\nimport success from '../images/Success.png';\nimport failed from '../images/Failed.png';\n\nfunction InfoTooltip(props) {\n    return(\n      <div className={`popup popup_type_register ${props.isOpen && 'popup_opened'}`}>\n          <div className=\"popup__container\">\n            <img src={props.status ? success : failed} className=\"popup__status\" alt={props.status ? \"Success\" : \"Failed\"} />\n            <h2 className=\"popup__status-title\">{props.status ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</h2>\n            <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n          </div>\n      </div>\n    );\n}\n\nexport default InfoTooltip;","export const BASE_URL = 'http://localhost:3001';\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  });\n}; \n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.token){\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    })\n    .catch(err => console.log(err))\n}; \n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n} ","import React from 'react';\n\nfunction Footer() {\n    return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Logo from '../images/logo.svg';\n\nfunction Header(props) {\n    const email = props.userData;\n\n    return(\n    <header className=\"header\">\n      <img className=\"header__logo\" src={Logo} alt=\"Место\" />\n      <Route exact path=\"/\">\n        <p className=\"header__email\">{email}</p>\n        <a href=\"\" className=\"header__link\" onClick={props.signOut}>Выйти</a>\n      </Route>\n      <Route path=\"/sign-up\">\n        <a href=\"/sign-in\" className=\"header__link\">Войти</a>\n      </Route>\n      <Route path=\"/sign-in\">\n        <a href=\"/sign-up\" className=\"header__link\">Регистрация</a>\n      </Route>\n    </header>\n    );\n}\n\nexport default Header;","import React, { useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Mesto from './Mesto';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport * as mestoAuth from '../utils/mestoAuth';\nimport { withRouter } from 'react-router-dom';\nimport Footer from './Footer';\nimport Header from './Header';\n\nfunction App(props) {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState();\n  const [isRegisterPopupOpen, SetIsRegisterPopupOpen] = useState(false);\n  const [registerPopupStatus, SetRegisterPopupStatus] = useState(false);\n\n  function handleLogin(password, email) {\n\n    mestoAuth.authorize(password, email)\n    .then((data) => {\n      if (data.token){\n        setLoggedIn(true);\n        setUserData(email);\n        props.history.push(\"/\");\n      }  \n    })\n    .catch(err => console.log(err));\n\n  } \n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt){\n      mestoAuth.getContent(jwt)\n      .then((res) => {\n        setUserData(res.data.email);\n        setLoggedIn(true);\n        props.history.push(\"/\");\n      })\n      .catch(err => console.log(err));\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function handleRegister(password, email) { \n\n    mestoAuth.register(password, email)\n    .then((res) => {\n      if(res.status !== undefined && res.status === 200 || res.status === 201) {\n        SetRegisterPopupStatus(true);\n      } else {\n        SetRegisterPopupStatus(false);\n      }\n      SetIsRegisterPopupOpen(true);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n  }\n  \n  function closeRegisterPopup() {\n    SetIsRegisterPopupOpen(false);\n\n    if(registerPopupStatus) {\n        props.history.push('/sign-in');\n    }\n  }\n\n  function signOut(){\n    localStorage.removeItem('jwt');\n    props.history.push('/sign-in');\n  }\n\n  return (\n    <div className=\"page\">\n    <Header userData={userData} signOut={signOut} />\n    <Switch>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegister}/>\n        <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeRegisterPopup} status={registerPopupStatus} />\n      </Route>\n      <Route path=\"/sign-in\">\n        <Login handleLogin={handleLogin}/>\n      </Route>\n      <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Mesto} />\n    </Switch>\n    <Footer />\n    </div>\n    \n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />    \n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}