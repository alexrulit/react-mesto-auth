(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{21:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t){e.exports="data:image/png;base64,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"},23:function(e,t,a){e.exports=a.p+"static/media/logo.2b1f7ee5.svg"},26:function(e,t,a){e.exports=a(37)},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),c=a.n(r),s=a(7),i=(a(31),a(1)),l=a(2),u=a(25),m=function(e){var t=e.component,a=Object(u.a)(e,["component"]);return o.a.createElement(l.b,null,(function(){return a.loggedIn?o.a.createElement(t,a):o.a.createElement(l.a,{to:"./sign-in"})}))};var p=Object(l.g)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),u=l[0],m=l[1];return o.a.createElement("div",null,o.a.createElement("form",{name:"main-form",action:"#",className:"main-form",noValidate:!0,onSubmit:function(t){t.preventDefault(),e.handleRegister(u,r)}},o.a.createElement("h2",{className:"main-form__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("input",{name:"email",type:"email",value:r,onChange:function(e){c(e.target.value)},className:"main-form__input",placeholder:"Email",required:!0}),o.a.createElement("input",{name:"password",type:"password",value:u,onChange:function(e){m(e.target.value)},className:"main-form__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),o.a.createElement("button",{type:"submit",name:"submit",className:"main-form__button"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement("a",{href:"/sign-in",className:"main-form__link"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438")))})),d=a(24),f=o.a.createContext();var h=function(e){var t=o.a.useContext(f),a=e.card.owner._id===t._id,n=e.card.likes.some((function(e){return e._id===t._id})),r="elements__like-button ".concat(n&&"elements__like-button_active");return o.a.createElement("li",{className:"elements__item"},o.a.createElement("img",{className:"elements__image",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),o.a.createElement("div",{className:"elements__description"},o.a.createElement("p",{className:"elements__text"},e.card.name),o.a.createElement("div",{className:"elements__like"},o.a.createElement("button",{type:"button",className:r,onClick:function(){e.onCardLike(e.card)}}),o.a.createElement("p",{className:"elements__like-count"},e.card.likes.length))),a&&o.a.createElement("button",{type:"button",className:"elements__delete-button",onClick:function(){e.onCardDelete(e.card)}}))};var g=function(e){var t=o.a.useContext(f);return o.a.createElement("main",{className:"main"},o.a.createElement("section",{className:"profile"},o.a.createElement("div",{className:"profile__avatar-link",onClick:e.onEditAvatar},o.a.createElement("img",{className:"profile__avatar",src:t.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})),o.a.createElement("div",{className:"profile__info"},o.a.createElement("div",{className:"profile__author"},o.a.createElement("h1",{className:"profile__title"},t.name),o.a.createElement("p",{className:"profile__subtitle"},t.about)),o.a.createElement("button",{type:"button",className:"profile__edit-button",onClick:e.onEditProfile})),o.a.createElement("button",{type:"button",className:"profile__add-button",onClick:e.onAddPlace})),o.a.createElement("section",{className:"elements"},o.a.createElement("ul",{className:"elements__list"},e.cardList.map((function(t){return o.a.createElement(h,{card:t,key:t._id,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete})})))))};var E=function(e){return o.a.createElement("div",{className:"popup popup_type_image ".concat(e.card.hasOwnProperty("name")&&"popup_opened")},o.a.createElement("figure",{className:"popup__figure"},o.a.createElement("img",{src:e.card.link,className:"popup__img",alt:e.card.name}),o.a.createElement("figcaption",{className:"popup__figcaption"},e.card.name),o.a.createElement("button",{type:"button",className:"popup__close",onClick:e.onClose})))};var b=function(e){return o.a.createElement("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen&&"popup_opened")},o.a.createElement("form",{name:e.name,onSubmit:e.onSubmit,action:"#",className:"popup__container",noValidate:!0},o.a.createElement("h2",{className:"popup__title"},e.title),e.children,o.a.createElement("button",{type:"submit",className:"popup__submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement("button",{type:"button",className:"popup__close",onClick:e.onClose})))};var A=function(e){var t=o.a.useContext(f),a=o.a.useState(""),n=Object(i.a)(a,2),r=n[0],c=n[1],s=o.a.useState(""),l=Object(i.a)(s,2),u=l[0],m=l[1];return o.a.useEffect((function(){c(t.name||""),m(t.about||"")}),[t]),o.a.createElement(b,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:r,about:u})}},o.a.createElement("input",{id:"popupAuthor",name:"popupAuthor",type:"text",value:r,onChange:function(e){c(e.target.value)},className:"popup__input",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",required:!0,pattern:"[\u0410-\u042f\u0430-\u044fA-Za-z -]{1,}"}),o.a.createElement("span",{id:"popupAuthor-error",className:"popup__input-error"}),o.a.createElement("input",{id:"popupDesc",name:"popupDesc",type:"text",value:u,onChange:function(e){m(e.target.value)},className:"popup__input",placeholder:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435",minLength:"2",maxLength:"200",required:!0}),o.a.createElement("span",{id:"popupDesc-error",className:"popup__input-error"}))};var v=function(e){var t=o.a.useRef();return o.a.createElement(b,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(a){a.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})}},o.a.createElement("input",{id:"popupAvatar",name:"avatarLink",type:"url",ref:t,className:"popup__input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),o.a.createElement("span",{id:"popupAvatar-error",className:"popup__input-error"}))};var y=function(e){var t=o.a.useState(""),a=Object(i.a)(t,2),n=a[0],r=a[1],c=o.a.useState(""),s=Object(i.a)(c,2),l=s[0],u=s[1];return o.a.createElement(b,{name:"addcard",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:n,link:l})}},o.a.createElement("input",{id:"popupName",name:"name",type:"text",value:n,onChange:function(e){r(e.target.value)},className:"popup__input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"1",maxLength:"30",required:!0}),o.a.createElement("span",{id:"popupName-error",className:"popup__input-error"}),o.a.createElement("input",{id:"popupLink",name:"link",type:"url",value:l,onChange:function(e){u(e.target.value)},className:"popup__input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),o.a.createElement("span",{id:"popupLink-error",className:"popup__input-error"}))},N=a(19),k=a(20),C=new(function(){function e(t){Object(N.a)(this,e),this._baseUrl=t.baseUrl,this._token=t.headers.authorization,this._contentType=t.headers.contentType}return Object(k.a)(e,[{key:"_sendRequest",value:function(e,t,a){return this._headers={authorization:this._token,"Content-type":this._contentType},this._requestInit={method:t,headers:this._headers},"POST"!==t&&"PATCH"!==t||(this._requestInit.body=a),fetch("".concat(this._baseUrl).concat(e),this._requestInit).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._sendRequest("/users/me","GET",{})}},{key:"getInitialCards",value:function(){return this._sendRequest("/cards","GET",{})}},{key:"setUserInfo",value:function(e,t){return this._body=JSON.stringify({name:e,about:t}),this._sendRequest("/users/me","PATCH",this._body)}},{key:"addNewCard",value:function(e,t){return this._body=JSON.stringify({name:e,link:t}),this._sendRequest("/cards","POST",this._body)}},{key:"cardLike",value:function(e,t){return this._cardId=e,this._method=t?"DELETE":"PUT",this._sendRequest("/cards/likes/"+this._cardId,this._method,{})}},{key:"deleteCard",value:function(e){return this._cardId=e,this._sendRequest("/cards/"+this._cardId,"DELETE",{})}},{key:"setAvatar",value:function(e){return this._body=JSON.stringify({avatar:e}),this._sendRequest("/users/me/avatar","PATCH",this._body)}}]),e}())({baseUrl:"http://localhost:3001",headers:{authorization:"67d49140-f28d-4665-8757-80e700844f4c",contentType:"application/json"}});var O=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),h=p[0],b=p[1],N=Object(n.useState)(!1),k=Object(i.a)(N,2),O=k[0],_=k[1],j=Object(n.useState)({}),S=Object(i.a)(j,2),x=S[0],L=S[1],w=Object(n.useState)([]),U=Object(i.a)(w,2),I=U[0],H=U[1];function J(){_(!1),u(!1),b(!1),L({})}return o.a.useEffect((function(){Promise.all([C.getUserInfo(),C.getInitialCards()]).then((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];r(a),H(n)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(f.Provider,{value:a},o.a.createElement(g,{onEditProfile:function(){u(!0)},onAddPlace:function(){b(!0)},onEditAvatar:function(){_(!0)},onCardClick:function(e){L(e)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===a._id}));C.cardLike(e._id,t).then((function(t){var a=I.map((function(a){return a._id===e._id?t:a}));H(a)})).catch((function(e){console.log(e)}))},onCardDelete:function(e){C.deleteCard(e._id).then((function(){var t=I.filter((function(t){return t._id!==e._id}));H(t)})).catch((function(e){console.log(e)}))},cardList:I}),o.a.createElement(A,{isOpen:l,onClose:J,onUpdateUser:function(e){C.setUserInfo(e.name,e.about).then((function(e){r(e),J()})).catch((function(e){console.log(e)}))}}),o.a.createElement(y,{isOpen:h,onClose:J,onAddPlace:function(e){C.addNewCard(e.name,e.link).then((function(e){H([e].concat(Object(d.a)(I))),J()})).catch((function(e){console.log(e)}))}}),o.a.createElement(v,{isOpen:O,onClose:J,onUpdateAvatar:function(e){C.setAvatar(e.avatar).then((function(e){r(e),J()})).catch((function(e){console.log(e)}))}}),o.a.createElement(E,{card:x,onClose:J}))};var _=Object(l.g)((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),u=l[0],m=l[1];return o.a.createElement("div",null,o.a.createElement("form",{name:"main-form",action:"#",className:"main-form",noValidate:!0,onSubmit:function(t){t.preventDefault(),r&&u&&e.handleLogin(u,r)}},o.a.createElement("h2",{className:"main-form__title"},"\u0412\u0445\u043e\u0434"),o.a.createElement("input",{name:"email",type:"email",value:r,onChange:function(e){c(e.target.value)},className:"main-form__input",placeholder:"Email"}),o.a.createElement("input",{name:"password",type:"password",value:u,onChange:function(e){m(e.target.value)},className:"main-form__input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),o.a.createElement("button",{type:"submit",name:"submit",className:"main-form__button"},"\u0412\u043e\u0439\u0442\u0438")))})),j=a(21),S=a.n(j),x=a(22),L=a.n(x);var w=function(e){return o.a.createElement("div",{className:"popup popup_type_register ".concat(e.isOpen&&"popup_opened")},o.a.createElement("div",{className:"popup__container"},o.a.createElement("img",{src:e.status?S.a:L.a,className:"popup__status",alt:e.status?"Success":"Failed"}),o.a.createElement("h2",{className:"popup__status-title"},e.status?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."),o.a.createElement("button",{type:"button",className:"popup__close",onClick:e.onClose})))},U="http://localhost:3001";var I=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))},H=a(23),J=a.n(H);var R=function(e){var t=e.userData;return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"header__logo",src:J.a,alt:"\u041c\u0435\u0441\u0442\u043e"}),o.a.createElement(l.b,{exact:!0,path:"/"},o.a.createElement("p",{className:"header__email"},t),o.a.createElement("a",{href:"",className:"header__link",onClick:e.signOut},"\u0412\u044b\u0439\u0442\u0438")),o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement("a",{href:"/sign-in",className:"header__link"},"\u0412\u043e\u0439\u0442\u0438")),o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement("a",{href:"/sign-up",className:"header__link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))};var F=Object(l.g)((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(),u=Object(i.a)(s,2),d=u[0],f=u[1],h=Object(n.useState)(!1),g=Object(i.a)(h,2),E=g[0],b=g[1],A=Object(n.useState)(!1),v=Object(i.a)(A,2),y=v[0],N=v[1];function k(){var t,a=localStorage.getItem("jwt");a&&(t=a,fetch("".concat(U,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(t){f(t.data.email),c(!0),e.history.push("/")})).catch((function(e){return console.log(e)}))}return o.a.useEffect((function(){k()}),[]),o.a.createElement("div",{className:"page"},o.a.createElement(R,{userData:d,signOut:function(){localStorage.removeItem("jwt"),e.history.push("/sign-in")}}),o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement(p,{handleRegister:function(e,t){(function(e,t){return fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})})})(e,t).then((function(e){void 0!==e.status&&200===e.status||201===e.status?N(!0):N(!1),b(!0)})).catch((function(e){console.log(e)}))}}),o.a.createElement(w,{isOpen:E,onClose:function(){b(!1),y&&e.history.push("/sign-in")},status:y})),o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement(_,{handleLogin:function(t,a){(function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e})).catch((function(e){return console.log(e)}))})(t,a).then((function(t){t.token&&(c(!0),f(a),e.history.push("/"))})).catch((function(e){return console.log(e)}))}})),o.a.createElement(m,{path:"/",loggedIn:r,component:O})),o.a.createElement(I,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.a649df9f.chunk.js.map